--- a/net/minecraft/world/entity/player/Player.java
+++ b/net/minecraft/world/entity/player/Player.java
@@ -95,12 +_,10 @@
 import net.minecraft.world.item.crafting.RecipeHolder;
 import net.minecraft.world.item.enchantment.EnchantmentHelper;
 import net.minecraft.world.item.trading.MerchantOffers;
-import net.minecraft.world.level.BaseCommandBlock;
-import net.minecraft.world.level.GameRules;
-import net.minecraft.world.level.GameType;
-import net.minecraft.world.level.Level;
+import net.minecraft.world.level.*;
 import net.minecraft.world.level.block.BedBlock;
 import net.minecraft.world.level.block.Block;
+import net.minecraft.world.level.block.FenceGateBlock;
 import net.minecraft.world.level.block.RespawnAnchorBlock;
 import net.minecraft.world.level.block.entity.CommandBlockEntity;
 import net.minecraft.world.level.block.entity.JigsawBlockEntity;
@@ -241,7 +_,7 @@
         this.gameProfile = p_252153_;
         this.inventoryMenu = new InventoryMenu(this.inventory, !p_250508_.isClientSide, this);
         this.containerMenu = this.inventoryMenu;
-        this.moveTo((double)p_250289_.getX() + 0.5, (double)(p_250289_.getY() + 1), (double)p_250289_.getZ() + 0.5, p_251702_, 0.0F);
+        this.moveTo((double)p_250289_.getBigX().doubleValue() + 0.5, (double)(p_250289_.getY() + 1), (double)p_250289_.getBigZ().doubleValue() + 0.5, p_251702_, 0.0F);
         this.rotOffs = 180.0F;
     }
 
@@ -341,9 +_,9 @@
         }
 
         int i = 29999999;
-        double d0 = Mth.clamp(this.getX(), -2.9999999E7, 2.9999999E7);
-        double d1 = Mth.clamp(this.getZ(), -2.9999999E7, 2.9999999E7);
-        if (d0 != this.getX() || d1 != this.getZ()) {
+        me.alphamode.mcbig.math.BigDecimal d0 = /*Mth.clamp(*/this.getBigX()/*, -2.9999999E7, 2.9999999E7)*/;
+        me.alphamode.mcbig.math.BigDecimal d1 = /*Mth.clamp(*/this.getBigZ()/*, -2.9999999E7, 2.9999999E7)*/;
+        if (!d0.equals(this.getBigX()) || !d1.equals(this.getBigZ())) {
             this.setPos(d0, this.getY(), d1);
         }
 
@@ -1100,7 +_,7 @@
 
                     InteractionResult interactionresult1 = itemstack.interactLivingEntity(this, (LivingEntity)p_36158_, p_36159_);
                     if (interactionresult1.consumesAction()) {
-                        this.level().gameEvent(GameEvent.ENTITY_INTERACT, p_36158_.position(), GameEvent.Context.of(this));
+                        this.level().gameEvent(GameEvent.ENTITY_INTERACT, p_36158_.bigPosition(), GameEvent.Context.of(this));
                         if (itemstack.isEmpty() && !this.abilities.instabuild) {
                             this.setItemInHand(p_36159_, ItemStack.EMPTY);
                         }
@@ -1486,7 +_,7 @@
             BlockState blockstate1 = p_36131_.getBlockState(p_36132_.above());
             boolean flag1 = blockstate1.getBlock().isPossibleToRespawnInThis(blockstate1);
             return flag && flag1
-                ? Optional.of(new Vec3((double)p_36132_.getX() + 0.5, (double)p_36132_.getY() + 0.1, (double)p_36132_.getZ() + 0.5))
+                ? Optional.of(new Vec3((double)p_36132_.getBigX().doubleValue() + 0.5, (double)p_36132_.getBigY().doubleValue() + 0.1, (double)p_36132_.getBigZ().doubleValue() + 0.5))
                 : Optional.empty();
         }
     }
@@ -2317,6 +_,33 @@
         @Nullable
         public Component getMessage() {
             return this.message;
+        }
+    }
+
+    @Override
+    public void setPosRaw(double p_20344_, double p_20345_, double p_20346_) {
+        setPosRaw(me.alphamode.mcbig.math.BigDecimal.val(p_20344_), p_20345_, me.alphamode.mcbig.math.BigDecimal.val(p_20346_));
+    }
+
+    @Override
+    protected BlockPos getOnPos(float p_216987_) {
+        if (this.mainSupportingBlockPos.isPresent()) {
+            BlockPos blockpos = this.mainSupportingBlockPos.get();
+            if (!(p_216987_ > 1.0E-5F)) {
+                return blockpos;
+            } else {
+                BlockState blockstate = this.level().getBlockState(blockpos);
+                return (!((double)p_216987_ <= 0.5) || !blockstate.is(BlockTags.FENCES))
+                        && !blockstate.is(BlockTags.WALLS)
+                        && !(blockstate.getBlock() instanceof FenceGateBlock)
+                        ? blockpos.atY(Mth.floor(this.position.y - (double)p_216987_))
+                        : blockpos;
+            }
+        } else {
+            me.alphamode.mcbig.math.BigInteger i = Mth.bigFloor(this.bigPosition.x);
+            me.alphamode.mcbig.math.BigInteger j = Mth.bigFloor(this.position.y - (double)p_216987_);
+            me.alphamode.mcbig.math.BigInteger k = Mth.bigFloor(this.bigPosition.z);
+            return new BlockPos(i, j, k);
         }
     }
 }
